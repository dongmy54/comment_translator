# Comment Translator
![效果图](https://free-img.400040.xyz/4/2024/12/29/6770bb791e931.png)
一个 VSCode 扩展，用于将代码注释翻译成中文。支持多种编程语言的单行和多行注释格式。

## 功能特点

- 支持多种编程语言的注释翻译
- 鼠标悬停显示译文
- 支持单行和多行注释格式
- 使用国内ai模型做翻译，稳定、速度快、准确度高
- 翻译结果缓存，提高响应速度

## 使用方法

### 1. 配置翻译服务
当前支持`deepseek`和`openrouter`两种翻译服务，安装好后在设置中搜索`comment translator`,选择其中一种进行配置即可：
![alt text](https://free-img.400040.xyz/4/2025/02/23/67bac6f80a289.png)
关于key的获取:
- 注册 [DeepSeek](https://platform.deepseek.com/) 账号
- 在个人设置中获取 API Key(当前服务不够稳定，建议使用openrouter)
- 或者注册 [OpenRouter](https://openrouter.ai/) 账号
- 在个人设置中获取 API Key（推荐方式,里面有很多免费的模型可以用非常不错，默认使用gemini 2 模型）

### 2. 选择注释文本
- **重要：** 选择时必须包含注释标记
  - 单行注释：必须包含 `//`, `#`, `--` 等注释标记
  - 多行注释：必须包含开始标记（如 `/*`）和结束标记（如 `*/`）
- 示例：
  ```javascript
  // 正确：从注释标记开始选择
  // This is a comment

  // 错误：没有选中注释标记
  This is a comment
  ```

### 3. 执行翻译
- 方式一：右键菜单选择 "翻译注释"
- 方式二：使用命令面板（Cmd/Ctrl + Shift + P），输入 "Translate Comment"
- 方式三：使用自定义快捷键（可在 VSCode 键盘快捷方式中设置）

### 4. 查看翻译结果
- 等待翻译完成（会显示"正在翻译..."提示）
- 将鼠标悬停在原注释文本上查看译文
- 译文会以悬浮窗口形式显示
- 翻译结果会自动缓存，再次查看时无需重新翻译

### 5. 批量翻译
- 可以一次选择多行注释进行翻译
- 确保选中的每一行都包含正确的注释标记
- 等待所有内容翻译完成后再进行下一次翻译

## 支持的语言

- JavaScript/TypeScript
- Java
- C/C++
- C#
- Python
- Ruby
- SQL
- Go
- Rust
- Swift
- Lua
- HTML/XML
- PHP
- Haskell
- Shell/Bash
- Perl
- R
- Lisp

支持的注释格式包括：
- 单行注释：`//`, `#`, `--`, `;`, `%`
- 多行注释：`/* */`, `''' '''`, `""" """`, `<!-- -->`, `--[[ ]]`, `{- -}`, `=begin/=end`

## 注意事项

- 确保选中的文本是注释内容
- 翻译结果会被缓存，相同内容不会重复翻译
- 支持在同一文件中多次使用翻译功能

## 依赖

- VSCode 1.60.0 或更高版本
- 需要网络连接以访问翻译服务

## 隐私说明

- 只会翻译用户主动选中的注释内容
- 翻译结果仅保存在本地缓存中
- 不会收集或上传任何用户代码

## 问题反馈

如果您在使用过程中遇到任何问题，或有功能建议，请在 GitHub 上提交 Issue。

## 许可证

MIT License
